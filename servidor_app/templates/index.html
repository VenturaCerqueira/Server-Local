{% extends "base.html" %}

{% block title %}Meus Arquivos - Dashboard{% endblock %}

{% block content %}
<div class="content-header">
    <h2 class="fw-bold mb-0">
        <i class="bi bi-folder me-2"></i>
        {% if current_path %}
            {{ current_path.rsplit('/', 1)[-1] }}
        {% else %}
            Meus Arquivos
        {% endif %}
    </h2>
    <div>
        {% if current_path %}
            <a href="{% if parent_path %}/browse/{{ parent_path }}{% else %}/{% endif %}" class="btn btn-primary nav-link-loader">
                <i class="bi bi-arrow-left me-1"></i> Voltar
            </a>
        {% endif %}
    </div>
</div>

<div class="filter-bar mb-4">
    <div class="dropdown">
        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-filter me-2"></i>Tipo
        </button>
        <ul class="dropdown-menu" id="filter-type">
            <li><a class="dropdown-item" href="#" data-filter-type="all">Todos</a></li>
            <li><a class="dropdown-item" href="#" data-filter-type="dir"><i class="bi bi-folder-fill me-2"></i>Pastas</a></li>
            <li><a class="dropdown-item" href="#" data-filter-type="image"><i class="bi bi-file-earmark-image-fill me-2"></i>Imagens</a></li>
            <li><a class="dropdown-item" href="#" data-filter-type="pdf"><i class="bi bi-filetype-pdf me-2"></i>PDFs</a></li>
            <li><a class="dropdown-item" href="#" data-filter-type="document"><i class="bi bi-filetype-doc me-2"></i>Documentos</a></li>
            <li><a class="dropdown-item" href="#" data-filter-type="zip"><i class="bi bi-file-earmark-zip-fill me-2"></i>Zip</a></li>
        </ul>
    </div>
    <div class="dropdown">
        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-clock me-2"></i>Alteração
        </button>
        <ul class="dropdown-menu" id="filter-date">
            <li><a class="dropdown-item" href="#" data-filter-date="all">Qualquer Data</a></li>
            <li><a class="dropdown-item" href="#" data-filter-date="today">Hoje</a></li>
            <li><a class="dropdown-item" href="#" data-filter-date="week">Últimos 7 dias</a></li>
            <li><a class="dropdown-item" href="#" data-filter-date="month">Últimos 30 dias</a></li>
        </ul>
    </div>
</div>

<div id="file-system-view" class="card-elegant p-4" data-pastas='{{ pastas | tojson | safe }}'>
    <div id="file-list-container" class="list-group list-group-flush">
        </div>
</div>
{% endblock %}